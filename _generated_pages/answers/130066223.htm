<html>

<head>
    <title>Abby's Archive</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base target="_blank">
    <style>
        /* for all screens */
        #info {
            display: none;
        }

        /* only when orientation is in portrait mode */
        @media all and (orientation:portrait) {
            #info {
                color: red;
                display: inline;
                font-size: 20px
            }
        }


        body {
            background-color: #2c292d;
            color: #fdf9f3;
            padding: 1em;
            margin: 0;
            font-family: consolas, monospace;
        }

        a {
            color: #a9dc76;
            cursor: pointer
        }

        .hljs {
            font-family: consolas, monospace;
        }

        img {
            max-width: 90%;
        }
    </style>
    <link rel="icon" type="image/png"
        href="https://d2v9k5u4v94ulw.cloudfront.net/assets/images/2191294/original/e01cdc83-7764-49d6-9176-4695d37133b7?1522307876" />

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/styles/default.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/highlight.min.js"></script>

</head>

<body>
    
    <div id='article' style='padding:0 15px 10px 10px'>
        <h1 id="subject">最近想分析的一下gcc的源代碼，但不知從何出入手。請大神們指教指教，非常感謝。？</h1>
        <div id="date" style='font-size: 9pt;'>2016-11-06 05:07</div>
        <div style='font-size: 9pt; border-bottom:1px solid #444; padding-bottom:1em' id="tags">答案</div>
        <div id="content" style='word-break: break-all;'>有llvm clang 的不讀要去讀gcc 還真的是勇氣可嘉。<br>(尤其在不借助編譯系統透視這本書的情況下)<br><br>首先你應該知道GCC 是這樣建置的:<br><blockquote><div class="highlight"><pre><code class="language-text"><span></span>$PWD/xxxx/configure --prefix=xxxx --enable-languages=c,c++,fortran,go,xxxx
</code></pre></div></blockquote><br>那麼入口在這裡:<br><br>configure:<br><figure><noscript><img src="https://pic3.zhimg.com/v2-01d6bc202945f864a128ccfa9554aca5_720w.png?source=3af55fa1" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb" width="1161" data-original="https://pic3.zhimg.com/v2-01d6bc202945f864a128ccfa9554aca5_720w.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1161'%20height='793'&gt;&lt;/svg&gt;" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb lazy" width="1161" data-original="https://pic3.zhimg.com/v2-01d6bc202945f864a128ccfa9554aca5_720w.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-01d6bc202945f864a128ccfa9554aca5_720w.png?source=3af55fa1"></figure><br><a href="http://link.zhihu.com/?target=http%3A//Makefile.in" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">Makefile.in</span><span class="invisible"></span></a><br><figure><noscript><img src="https://pic1.zhimg.com/v2-f723954831f22367dfc2357947ad0518_720w.png?source=3af55fa1" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb" width="1161" data-original="https://pic2.zhimg.com/v2-f723954831f22367dfc2357947ad0518_720w.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1161'%20height='793'&gt;&lt;/svg&gt;" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb lazy" width="1161" data-original="https://pic2.zhimg.com/v2-f723954831f22367dfc2357947ad0518_720w.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-f723954831f22367dfc2357947ad0518_720w.png?source=3af55fa1"></figure><br>題外話:<br>通常來說, makefile 的目的是調用gcc<br><br>GCC bootstrapping 的情況如下<br>GCC &gt;4.8 : ISO C++98<br>GCC &lt;=4.8 : ISO C89<br>GCC &lt;3.4 : K&amp;R <br><br>它可以自舉, 但作為一個重要的編譯器, 為了歷史的完整性, 最新源碼中的引用是他舉<br><br><figure><noscript><img src="https://pic1.zhimg.com/v2-35b7d63aa9917cee18be88d459184a12_720w.png?source=3af55fa1" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb" width="1161" data-original="https://pic2.zhimg.com/v2-35b7d63aa9917cee18be88d459184a12_720w.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1161'%20height='793'&gt;&lt;/svg&gt;" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb lazy" width="1161" data-original="https://pic2.zhimg.com/v2-35b7d63aa9917cee18be88d459184a12_720w.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-35b7d63aa9917cee18be88d459184a12_720w.png?source=3af55fa1"></figure><figure><noscript><img src="https://pic2.zhimg.com/v2-b48927a8be9772b42e698250d09a68d7_720w.png?source=3af55fa1" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb" width="1161" data-original="https://pic1.zhimg.com/v2-b48927a8be9772b42e698250d09a68d7_720w.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1161'%20height='793'&gt;&lt;/svg&gt;" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb lazy" width="1161" data-original="https://pic1.zhimg.com/v2-b48927a8be9772b42e698250d09a68d7_720w.jpg?source=3af55fa1" data-actualsrc="https://pic2.zhimg.com/v2-b48927a8be9772b42e698250d09a68d7_720w.png?source=3af55fa1"></figure>至此和語言相關的.h 儲備完成<br><br>查看一下 flags 中把含的: ALL_HOST_BACKEND_OBJS<br><figure><noscript><img src="https://pic1.zhimg.com/v2-84fe8e104c461b455ff6b5e3d4917028_720w.png?source=3af55fa1" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb" width="1161" data-original="https://pic2.zhimg.com/v2-84fe8e104c461b455ff6b5e3d4917028_720w.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1161'%20height='793'&gt;&lt;/svg&gt;" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb lazy" width="1161" data-original="https://pic2.zhimg.com/v2-84fe8e104c461b455ff6b5e3d4917028_720w.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-84fe8e104c461b455ff6b5e3d4917028_720w.png?source=3af55fa1"></figure><br><figure><noscript><img src="https://pic1.zhimg.com/v2-cbf675d4b8d277f15c36b1550ac6cb5c_720w.png?source=3af55fa1" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb" width="1161" data-original="https://pic2.zhimg.com/v2-cbf675d4b8d277f15c36b1550ac6cb5c_720w.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1161'%20height='793'&gt;&lt;/svg&gt;" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb lazy" width="1161" data-original="https://pic2.zhimg.com/v2-cbf675d4b8d277f15c36b1550ac6cb5c_720w.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-cbf675d4b8d277f15c36b1550ac6cb5c_720w.png?source=3af55fa1"></figure>找到gcc-main.o<br><br><br>而gcc 的入口在這裡: gcc-main.c<br><figure><noscript><img src="https://pic3.zhimg.com/v2-d3c85b013300e49aa5d9fbf1c3bee449_720w.png?source=3af55fa1" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb" width="1161" data-original="https://pic3.zhimg.com/v2-d3c85b013300e49aa5d9fbf1c3bee449_720w.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1161'%20height='793'&gt;&lt;/svg&gt;" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb lazy" width="1161" data-original="https://pic3.zhimg.com/v2-d3c85b013300e49aa5d9fbf1c3bee449_720w.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-d3c85b013300e49aa5d9fbf1c3bee449_720w.png?source=3af55fa1"></figure><br>而真正要了解的是這個10000行的gcc.c<br>gcc-main.c 中所說的 driver 就是它了<br><figure><noscript><img src="https://pic3.zhimg.com/v2-6ef69cdac17372c3de91ba6ea63f3069_720w.png?source=3af55fa1" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb" width="1161" data-original="https://pic2.zhimg.com/v2-6ef69cdac17372c3de91ba6ea63f3069_720w.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1161'%20height='793'&gt;&lt;/svg&gt;" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb lazy" width="1161" data-original="https://pic2.zhimg.com/v2-6ef69cdac17372c3de91ba6ea63f3069_720w.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-6ef69cdac17372c3de91ba6ea63f3069_720w.png?source=3af55fa1"></figure><br><figure><noscript><img src="https://pic2.zhimg.com/v2-2aea6b112a78ff7e0103b470f717dfc6_720w.png?source=3af55fa1" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb" width="1161" data-original="https://pic1.zhimg.com/v2-2aea6b112a78ff7e0103b470f717dfc6_720w.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1161'%20height='793'&gt;&lt;/svg&gt;" data-rawwidth="1161" data-rawheight="793" class="origin_image zh-lightbox-thumb lazy" width="1161" data-original="https://pic1.zhimg.com/v2-2aea6b112a78ff7e0103b470f717dfc6_720w.jpg?source=3af55fa1" data-actualsrc="https://pic2.zhimg.com/v2-2aea6b112a78ff7e0103b470f717dfc6_720w.png?source=3af55fa1"></figure><br>從這裡開始就可以了</div>
        <div id="permalink" style='word-break: break-all;padding:2em 0 2em 0'><a href="https://blog.abby.md/_generated_pages/answers/130066223.htm">Permalink of this blog</a></div>
        
    </div>
</body>
<script>
    $("img[data-actualsrc]").each(function(num,e){
        $(this).attr("src",$(this).attr("data-actualsrc"));
    });
</script>
</html>